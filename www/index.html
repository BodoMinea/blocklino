<html>
<head>
	<link rel="icon" type="image/png" href="media/icon.png" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title> BLOCKLINO </title>
	<!-- JavaScript -->
	<script type="text/javascript" src="js/blockly.min.js"></script>
	<script type="text/javascript" src="js/type.js"></script>
	<script type="text/javascript" src="js/types.js"></script>
	<script type="text/javascript" src="js/typings.js"></script>
	<script type="text/javascript" src="js/generate.js"></script>
	<script type="text/javascript" src="js/blocklino.js"></script>
	<script type="text/javascript" src="js/boards.js"></script>
	<script src="js/jquery.min.2.1.3.js" onload="window.$ = window.jQuery = module.exports;"></script>
	<script type="text/javascript" src="js/bootstrap.min.3.3.6.js"></script>
	<script type="text/javascript" src="js/prettify.min.js"></script>
	<script type="text/javascript" src="blocs&generateurs/blockly_blocs.js"></script>
	<script type="text/javascript" src="blocs&generateurs/arduino_blocs.js"></script>
	<script type="text/javascript" src="blocs&generateurs/arduino_generateurs.js"></script>
	<script type="text/javascript" src="blocs&generateurs/blockly_generateurs.js"></script>
	<script type="text/javascript" src="blocs&generateurs/actionneur.js"></script>
	<script type="text/javascript" src="blocs&generateurs/html.js"></script>
	<script type="text/javascript" src="js/typing.js"></script>
	<script type="text/javascript" src="lang/code.js"></script>
	<script type="text/javascript">	$(window).load(function() {	$(".loading").fadeOut("slow");});</script>
	<!-- CSS -->
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.3.3.6.css"/>
	<link rel="stylesheet" type="text/css" href="css/blocklino.css"/>
	<link rel="stylesheet" type="text/css" href="css/prettify.min.css"/>
</head>
<body onload="BlocklyDuino.init()">
	<div class="loading"></div>
	<div id="toptitle">
		<div id="title">
            <span><img src="media/icon.png"/> BLOCKLINO </span>
		</div>
        <div id="title-bar-btns">
			<button id="btn_min" type="button" class="btn btn-minmax"><span class="fa fa-minimize fa-lg"></span></button>
			<button id="btn_max" type="button" class="btn btn-minmax"><span class="fa fa-maximize fa-lg"></span></button>
			<button id="btn_quit" type="button" class="btn btn-quit"><span class="fa fa-times fa-1_75x"></span></button>
        </div>
	</div>
	<div id="header">
		<div id="btn_all" >
				<button id="btn_new" class="btn btn-arduino-rect" data-toggle="tooltip" data-placement="bottom" title=" Nouveau ">
					<span class="fa fa-file fa-fw"></span>
				</button>
				<button id="btn_fakeload" class="btn btn-arduino-rect" data-toggle="tooltip" data-placement="bottom" title=" Ouvrir ">
					<span class="fa fa-folder-open fa-lg fa-fw"></span>
				</button>
				<input type="file" id="load" accept=".bloc,.xml" style="display: none;" />
				<button id="btn_saveXML" class='btn btn-arduino-rect' data-toggle="tooltip" data-placement="bottom" title=" Enregistrer les blocs ">
					<span class="fa fa-cloud-download fa-lg fa-fw"></span>
				</button>
				<span style="color:white;font-size:20"> | </span>
				<button id="btn_example" class="btn btn-arduino" data-toggle="modal" data-target="#exampleModal"  data-toggle="tooltip" data-placement="bottom" title=" Exemples ">
					<span class="fa fa-file-text fa-fw"> </span>
				</button>
				<button id="btn_factory" class="btn btn-arduino" data-toggle="tooltip" data-placement="bottom" title=" Fabriquer ses propres blocs ">
					<span class="fa fa-industry fa-fw"></span>
				</button>
				<button id="btn_term" class='btn btn-arduino' data-toggle="tooltip" data-placement="bottom" title=" Moniteur série ">
					<span class="fa fa-search fa-fw"> </span>
				</button>
				<button id="btn_config" class="btn btn-arduino" data-toggle="modal" data-target="#configModal" data-toggle="tooltip" data-placement="bottom" title=" Modifier la langue et les blocs disponibles ">
					<span class="fa fa-cog fa-lg fa-fw"></span>
				</button>
				<span style="color:white;font-size:4">|</span>
				<button id="btn_about" class="btn btn-arduino" data-toggle="modal" data-target="#aboutModal" data-toggle="tooltip" data-placement="bottom" title=" à propos ">
					<span class="fa fa-question fa-lg fa-fw"></span>
				</button>
				<span style="color:white;font-size:4">|</span>
			<select id="boards" onchange="BlocklyDuino.change_card();">
				<optgroup label="Arduino">
					<option value="leonardo" >Léonardo</option>
					<option value="mega" >Méga 2560</option>
					<option value="micro" >Micro</option>
					<option value="mini" >Mini</option>
					<option value="nano" >Nano</option>
					<option value="pro" >Pro ou Pro Mini</option>
					<option value="uno" >Uno</option>
					<option value="yun" >Yun</option>
				</optgroup>
				<optgroup label="DAGU">
					<option value="atmegang" >RS027</option>
					<option value="pro" >RS040</option>
				</optgroup>
				<optgroup label="ESP8266">
					<option value="nodemcuv2" >wemos LoLin v3</option>
				</optgroup>
			</select>
			<select id="portserie" onchange="BlocklyDuino.save_com();"></select>
			<span style="color:white;font-size:4">|</span>
			<button id="btn_verify" class="btn btn-arduino" data-toggle="modal" data-target="#message">
				<span class="fa fa-check fa-1_5x fa-fw"> </span>
			</button>
			<button id="btn_flash" class='btn btn-arduino' data-toggle="modal" data-target="#message">
				<span class="fa fa-arrow-right fa-1_5x fa-fw"> </span>
			</button>
			<span id="survol" style="color:#727272"></span>
		</div>
		<div id="btn_group" class="btn-group" role="group">
			<button id="btn_undo" class="btn btn-default" style="color: #727272;">
				<span class="fa fa-undo"> </span>
			</button>
			<button id="btn_redo" class="btn btn-default" style="color: #727272;">
				<span class="fa fa-repeat"> </span>
			</button>
			<button id="btn_print" class="btn btn-default" style="color: #727272;">
				<span class="fa fa-camera"> </span>
			</button>
			<button id="btn_preview" class="btn btn-default">
				<span class="fa fa-code"> </span>
			</button>
		</div>
	</div>
	<div id="divBody">
		<div id="content_blocks" class="tab-pane active" style="position: relative;">
			<div id="toggle" class="modal-content" style="display: none;">
				<pre id="pre_previewArduino"></pre>
				<button id="btn_saveino" class="btn btn-default">
					<span class="fa fa-floppy-o"> </span>
				</button>
			</div>
		</div>
	</div>
	<!-- message modal -->
	<div class="modal fade" id="message" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false" data-backdrop="static" >
		<div class="modal-dialog modal-sm">
			<div class="modal-content">
				<div class="modal-body" >
					<div id = "messageDIV"></div>
				</div>  
			</div>
		</div>
	</div>
	<!-- about modal -->
	<div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-labelledby="aboutModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
		<div class="modal-content">
		  <div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&#215;</span></button>
			<span class="fa fa-2x" class="modal-title" id="aboutModalLabel"></span>
		  </div>
		  <div class="modal-body">
			<div class="container-fluid">
				<div class="row">
				  <div class="col-md-4"><img src="media/logo.png" style="width:128px; height:128px;"/></div>
				  <div class="col-md-8">
					<span class="fa fa-lg" id="versionapp"></span><br /><br />
					<span id="aboutBody"></span><br /><br />
				  	<button id="btn_site" class="btn btn-default" style="color: #727272;">
						<span class="fa fa-puzzle" > Le site </span>
					</button>
				  	<button id="btn_forum" class="btn btn-default" style="color: #727272;">
						<span class='fa fa-comments'> Le Forum </span>
					</button>
				  	<button id="btn_contact" class="btn btn-default" style="color: #727272;">
						<span class='fa fa-envelope'> Contact </span>
					</button>
				  </div>
				</div>
			</div>
		  </div>
		  <div class="modal-footer">
			<input type="checkbox" id="verifyUpdate"> Rechercher les mises à jour au démarrage<br />
			<button id="btn_version" type="button" class="btn btn-xs btn-default">Vérifier maintenant</button><br />
		  </div>
		</div>
	  </div>
	</div>
	<!-- example modal -->
	<div class="modal fade" id="exampleModal" >
	  <div class="modal-dialog modal-lg">
		<div class="modal-content">
		  <div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" ><span aria-hidden="true">&#215;</span></button>
			<span class="fa fa-file-text fa-2x" class="modal-title" id="exampleModalLabel"></span>
		  </div>
		  <div class="modal-body">
			<div class="table-responsive">
				<table class="table table-hover">
					<tbody id="includedContent"></tbody>
				</table>
			</div>
		  </div>
		</div>
	  </div>
	</div>
	<!-- modal_rvb -->
	<div id="modal_rvb" class="modal modal-child" data-modal-parent="#exampleModal">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&#215;</button>
					<span class="fa fa-file-text fa-2x" class="modal-title" > faire clignoter la DEL en Rouge, Vert et Bleu</span>
				</div>
				<div class="modal-body">
					<img src="examples/rvb/rvb.png" style="height:512px"/>
				</div>
			</div>
		</div>
	</div>
	<!-- modal_bp -->
	<div id="modal_bp" class="modal modal-child" data-modal-parent="#exampleModal">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&#215;</button>
					<span class="fa fa-file-text fa-2x" class="modal-title" > faire clignoter une DEL avec un bouton poussoir</span>
				</div>
				<div class="modal-body">
					<img src="examples/bp/bp.png" style="height:418px"/>
				</div>
			</div>
		</div>
	</div>
	<!-- modal_buzzer -->
	<div id="modal_buzzer" class="modal modal-child" data-modal-parent="#exampleModal">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&#215;</button>
					<span class="fa fa-file-text fa-2x" class="modal-title" > jouer 'joyeux anniversaire'</span>
				</div>
				<div class="modal-body">
					<img src="examples/buzzer/buzzer.png" style="height:512px;"/>
				</div>
			</div>
		</div>
	</div>
	<!-- modal_matrice -->
	<div id="modal_matrice" class="modal modal-child" data-modal-parent="#exampleModal">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&#215;</button>
					<span class="fa fa-file-text fa-2x" class="modal-title" > faire un smiley avec une matrice de DEL</span>
				</div>
				<div class="modal-body">
					<img src="examples/matrice/matrice.png" style="height:385px"/>
				</div>
			</div>
		</div>
	</div>
	<!-- modal_ligne -->
	<div id="modal_ligne" class="modal modal-child" data-modal-parent="#exampleModal">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&#215;</button>
					<span class="fa fa-file-text fa-2x" class="modal-title" > actionner un moteur si une ligne noire est détectée</span>
				</div>
				<div class="modal-body">
					<img src="examples/ligne/ligne.png" style="height:512px"/>
				</div>
			</div>
		</div>
	</div>
	<!-- modal_hum -->
	<div id="modal_hum" class="modal modal-child" data-modal-parent="#exampleModal">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&#215;</button>
					<span class="fa fa-file-text fa-2x" class="modal-title" > afficher l'humidité et la température sur un écran LCD</span>
				</div>
				<div class="modal-body">
					<img src="examples/hum/hum.png" style="height:512px"/>
				</div>
			</div>
		</div>
	</div>
	<!-- modal_potar -->
	<div id="modal_potar" class="modal modal-child" data-modal-parent="#exampleModal">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&#215;</button>
					<span class="fa fa-file-text fa-2x" class="modal-title" > commander un servomoteur avec un potentiomètre</span>
				</div>
				<div class="modal-body">
					<img src="examples/potar/potar.png" style="height:512px"/>
				</div>
			</div>
		</div>
	</div>
	<!-- toolbox config modal -->
	<div class="modal fade" id="configModal" tabindex="-1" role="dialog" aria-labelledby="configModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&#215;</span></button>
				<span class="fa fa-cog fa-2x" class="modal-title"  id="configModalLabel"></span>
			</div>
			<div class="modal-body">
				<label id="span_languageMenu"></label>
				<select id="languageMenu"></select><br/><br/>
				<div id="divToolbox">
					<label id="labelToolboxDefinition"></label>
					<select id="toolboxes">
						<option value="toolbox_6">Cycle 3</option>
						<option value="toolbox_arduino_all" selected="selected">Cycle 4</option>
						<option value="toolbox_6">Lycée</option>
					</select>
				</div>
			</div>
		  <input type="checkbox" name="select_all" id="select_all"/> <span id="span_select_all"> </span>
		  <div class="modal-body" id="modal-body-config"></div>
		  <div class="modal-footer">
			<button id="btn_valid_config" type="button" class="btn btn-primary"></button>
		  </div>
		</div>
	  </div>
	</div>
	<!-- variable modal -->
	<div class="modal fade" id="variableModal" tabindex="-1" role="dialog" aria-labelledby="variableModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-sm">
			<div class="modal-content">
				<div class="modal-body" id="modal-body-variableModal">
					<div class="form-group">
						<label ><div id = "variableModalLabel" class="modal-title"></div></label>
						<div class="input-group input-group-md icon-addon addon-md">
							<input type="text" class="form-control" id="var_name">
							<span class="input-group-btn">
								<button id="btn_variable" type="button" class="btn btn-info" data-dismiss="modal"></button>
							</span>
						</div>
					</div>
				</div>  
			</div>
		</div>
	</div>
</body>
<script>require('../resources/app.asar/index.js')</script>
<script>require('../resources/app.asar/factory.js')</script>
</html>