<!DOCTYPE HTML>
<html lang="fr">
<head>
	<meta charset="utf-8">
	<script src="blocs&generateurs/factory/generator.js"></script>
	<script src="js/blockly.min.js"></script>
	<script src="js/prettify.min.js"></script>
	<script src="blocs&generateurs/factory/block.js"></script>
	<script src="js/ace/ace.js"></script>
	<script src="js/ace/ext-language_tools.js"></script>
	<link rel="stylesheet" href="css/bootstrap.min.3.3.6.css">
	<link rel="stylesheet" href="css/fontawesome.css">
	<link rel="stylesheet" href="css/factory.css">
	<link rel="stylesheet" href="css/prettify.min.css">
</head>
<body>
	<div id="toptitle">
        <div id="title">
			<i class="fa fa-industry fa-1_75x fa-fw"></i> L'usine à blocs
		</div>
        <div id="title-bar-btns">
			<button id="btn_max" type="button" class="btn btn-minmaxred"><span class="fa fa-window-restore fa-lg"></span></button>
			<button id="btn_quit" type="button" class="btn btn-quitred"><span class="fa fa-times fa-1_75x"></span></button>
        </div>
	</div>
	<div id="divfenetre">
		<div id="blockly_l" >
			<div id="blockly" ></div>
		</div>
		<div id="blockly_r">
			<button id="btn_add" type="button" class="btn btn-danger"><span class="fa fa-cart-plus fa-1_75x"></span></button>
			<div style="height:3%">Prévisualisation :
				<select id="direction" style="display: none;">
					<option value="ltr">LTR</option>
					<option value="rtl">RTL</option>
				</select>
			</div>
			<div style="height:25%">
				<div id="preview" style="position:absolute"></div>
			</div>
			<div style="height:3%">Aspect visuel :</div>
			<div style="height:30%">
				<pre id="languagePre" style="border:#ddd 1px solid; overflow:auto"></pre>
			</div>
			<div style="height:4%">Codes générés : 
				<select id="language_generator">
					<option value="Arduino">C/C++</option>
					<option value="Python">Python</option>
				</select>
			</div>
			<div style="height:35%">
			<div id="generatorPre"></div>
			</div>
		</div>
	</div>
	<xml id="toolbox_factory" style="display:none">
		<category name="Connexion" colour="#696969">
			<block type="input_dummy"></block>
			<block type="input_value"></block>
			<block type="input_statement"></block>
		</category>
		<category name="Champ" colour="#00cc00">
			<block type="field_static"></block>
			<block type="field_input"></block>
			<block type="field_math"></block>
			<block type="field_image"></block>
			<block type="field_dropdown"></block>
			<block type="field_variable"></block>
			<block type="field_checkbox"></block>
			<block type="field_angle"></block>
			<block type="field_colour"></block>
		</category>
		<category name="Type" colour="#ff0000">
			<block type="type_boolean"></block>
			<block type="type_number"></block>
			<block type="type_string"></block>
			<block type="type_other"></block>
		</category>
		<category name="Couleur" id="colourCategory" colour="#FD6C9E">
			<block type="colour_hue"><mutation colour="360"></mutation><field name="HUE">0</field></block>
			<block type="colour_hue"><mutation colour="60"></mutation><field name="HUE">60</field></block>
			<block type="colour_hue"><mutation colour="120"></mutation><field name="HUE">120</field></block>
			<block type="colour_hue"><mutation colour="180"></mutation><field name="HUE">180</field></block>
			<block type="colour_hue"><mutation colour="240"></mutation><field name="HUE">240</field></block>
			<block type="colour_hue"><mutation colour="300"></mutation><field name="HUE">300</field></block>
			<block type="colour_rrggbb"><mutation colour="#FFA500"></mutation><field name="HUE">#FFA500</field></block>
		</category>
	</xml>
</body>
<script>
	ace.require("ace/ext/language_tools");
	var editor = ace.edit("generatorPre");
	editor.setOptions({showGutter: false});
    editor.setTheme("ace/theme/sqlserver");
	editor.session.setTabSize(2);
	editor.setShowPrintMargin(false);
	require('../resources/app/factory.js');
</script>
</html>